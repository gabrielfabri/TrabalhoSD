<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0 ,user-scalable=no">
    <title>Document</title>
    
</head>
<body>

    <div classname="container1">
        <input  id="namebox" placeholder="digite algo">
        <button class="botao" id="insert"> Adicionar </button>
    </div>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyAC6jEZz46vr9qcmIeAq4XLr4M5ofVR-ak",
    authDomain: "teste-b85c7.firebaseapp.com",
    databaseURL: "https://teste-b85c7.firebaseio.com",
    projectId: "teste-b85c7",
    storageBucket: "teste-b85c7.appspot.com",
    messagingSenderId: "103136560025",
    appId: "1:103136560025:web:503addc9d0d4a39b418908",
    measurementId: "G-2K3K0RPBEE"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  document.getElementById('insert').onclick = function(){
            alert('Mensagem enviada com sucesso!');
            Ready();
            
        
            firebase.database().ref('student/'+horario).set({
                NameOfStudent: nameV,
                startedAt: firebase.database.ServerValue.TIMESTAMP 
            })
        
        }
    
    //---------------READY DATA -----------------
        var nameV, numV, secV, genV;
        var data = new Date();
        var dia     = data.getDate();           // 1-31
        var dia_sem = data.getDay();            // 0-6 (zero=domingo)
        var mes     = data.getMonth();          // 0-11 (zero=janeiro)
        var ano2    = data.getYear();           // 2 dígitos
        var ano4    = data.getFullYear();       // 4 dígitos
        var hora    = data.getHours();          // 0-23
        var min     = data.getMinutes();        // 0-59
        var seg     = data.getSeconds();        // 0-59
        var mseg    = data.getMilliseconds();   // 0-999
        var tz      = data.getTimezoneOffset(); // em minutos

        // Formata a data e a hora (note o mês + 1)
        var str_data = dia + '/' + (mes+1) + '/' + ano4;
        var str_hora = hora+':'+min+':'+seg
        // hora + ':' + min + ':' + seg;
        console.log(str_hora);

        function Ready(){
            nameV = document.getElementById('namebox').value;
            horario = str_hora
        }
        
    </script>
</body>
</html>
